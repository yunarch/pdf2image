. "$(dirname -- "$0")/common.sh"

# Function to run checks
run_checks() {
  bun run lint
}

# Check if the branch has an upstream
if git rev-parse @{push} >/dev/null 2>&1; then
  # Branch has upstream, check for new commits
  commits_to_push=$(git log @{push}.. 2>/dev/null)
  if [ -n "$commits_to_push" ]; then
    run_checks
  fi
else
  # New branch without upstream, always run checks
  run_checks
fi
